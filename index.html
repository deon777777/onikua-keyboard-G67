<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>ONIKUA G67 PRO - GOD MODE</title>
    
    <script defer src="https://onikua.driveall.cn/static/js/chunk-vendors.564e9835.js"></script>
    <script defer src="https://onikua.driveall.cn/static/js/app.99da8688.js"></script>
    <link href="https://onikua.driveall.cn/static/css/app.64dc58ad.css" rel="stylesheet">

    <style>
        :root {
            --neon: #bc13fe;
            --cyber: #00ffff;
            --bg: #050505;
        }

        body {
            background-color: var(--bg);
            color: white;
            font-family: 'Orbitron', sans-serif;
            margin: 0;
            overflow: hidden;
            background: radial-gradient(circle at var(--x, 50%) var(--y, 50%), #1a0b2e 0%, #050505 100%);
            height: 100vh;
            transition: filter 0.1s ease;
        }

        /* HEADER E PULSANTI */
        .header {
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid var(--neon);
            background: rgba(0,0,0,0.9);
            box-shadow: 0 0 30px var(--neon);
            z-index: 10000;
            position: relative;
        }

        .btn-cyber {
            padding: 12px 20px;
            background: transparent;
            color: var(--cyber);
            border: 2px solid var(--cyber);
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            text-transform: uppercase;
            box-shadow: 0 0 10px var(--cyber);
            transition: 0.3s;
        }

        .btn-cyber:hover {
            background: var(--cyber);
            color: black;
            box-shadow: 0 0 25px var(--cyber);
        }

        /* PANNELLO TRASPARENTE PER L'APP */
        #app {
            background: rgba(15, 15, 25, 0.4) !important;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(188, 19, 254, 0.2);
            margin: 20px;
            height: 80vh;
            border-radius: 15px;
            overflow-y: auto;
            display: block !important;
        }

        /* AUDIO VISUALIZER (Bordi che pulsano) */
        .visualizer-glow {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            box-shadow: inset 0 0 0px var(--neon);
            z-index: 9999;
            transition: box-shadow 0.05s ease;
        }

        /* PARTICELLE */
        .particle {
            position: fixed;
            width: 3px; height: 3px;
            background: var(--cyber);
            border-radius: 50%;
            pointer-events: none;
            z-index: 10001;
        }

        /* PULIZIA INTERFACCIA ORIGINALE */
        .el-main, .el-container { background: transparent !important; }
        .el-aside { border-right: 1px solid var(--neon) !important; }
    </style>
</head>
<body onclick="initAudio()">

<div class="visualizer-glow" id="glow"></div>

<div class="header">
    <h1>ONIKUA <span style="color:var(--cyber)">G67 PRO</span> <small style="font-size:10px; color:var(--neon)">GOD MODE</small></h1>
    <div>
        <button class="btn-cyber" onclick="connectHID()">ðŸ”Œ COLLEGA USB</button>
        <button class="btn-cyber" style="border-color:var(--neon); color:var(--neon); margin-left:10px;" onclick="location.reload()">ðŸ”„ REFRESH</button>
    </div>
</div>

<div id="app">
    <div id="status" style="text-align:center; padding-top:100px;">
        <h2 style="color:var(--cyber)">SISTEMA IN ATTESA</h2>
        <p>Muovi il mouse per le particelle. Clicca ovunque per attivare la reattivitÃ  audio.</p>
    </div>
</div>

<script>
    // 1. CONNESSIONE USB
    async function connectHID() {
        try {
            await navigator.hid.requestDevice({ filters: [] });
            document.getElementById('status').style.display = 'none';
        } catch (e) { console.log("Connessione annullata"); }
    }

    // 2. AUDIO REATTIVO (Pulsazione bordi e colori)
    let audioCtx, analyser, dataArray;
    async function initAudio() {
        if (audioCtx) return;
        try {
            audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
            const source = audioCtx.createMediaStreamSource(stream);
            analyser = audioCtx.createAnalyser();
            analyser.fftSize = 64;
            source.connect(analyser);
            dataArray = new Uint8Array(analyser.frequencyBinCount);
            updateVisuals();
        } catch (err) { console.log("Microfono non autorizzato"); }
    }

    function updateVisuals() {
        requestAnimationFrame(updateVisuals);
        analyser.getByteFrequencyData(dataArray);
        let volume = dataArray.reduce((a, b) => a + b) / dataArray.length;
        
        // Fa pulsare l'ombra interna
        document.getElementById('glow').style.boxShadow = `inset 0 0 ${volume * 1.5}px var(--neon)`;
        // Cambia leggermente la tonalitÃ  in base al volume
        document.body.style.filter = `hue-rotate(${volume/4}deg)`;
    }

    // 3. MOVIMENTO MOUSE E PARTICELLE
    window.addEventListener('mousemove', e => {
        let x = (e.clientX / window.innerWidth) * 100;
        let y = (e.clientY / window.innerHeight) * 100;
        document.body.style.setProperty('--x', x + '%');
        document.body.style.setProperty('--y', y + '%');
        
        createParticle(e.clientX, e.clientY);
    });

    function createParticle(x, y) {
        const p = document.createElement('div');
        p.className = 'particle';
        p.style.left = x + 'px'; p.style.top = y + 'px';
        document.body.appendChild(p);
        
        p.animate([
            { transform: 'scale(1)', opacity: 1 },
            { transform: `translate(${(Math.random()-0.5)*100}px, 50px) scale(0)`, opacity: 0 }
        ], { duration: 1000 }).onfinish = () => p.remove();
    }

    // Auto-rimozione messaggio se Onikua carica
    setInterval(() => {
        if (document.querySelector('.el-container')) {
            document.getElementById('status').style.display = 'none';
        }
    }, 1000);
</script>

</body>
</html>
